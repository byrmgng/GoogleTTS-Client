<div class="container my-5 w-100">
    <div style="position: relative;">
        <textarea [(ngModel)]="text" (input)="updateCharacterCount()" maxlength="2000" style="resize: none; width: 100%; height: 300px;" class="w-100" placeholder="Seslendirmek istediğiniz metni giriniz. Karakter Sınırı 2000 harften oluşmaktadır."></textarea>
        <span style="position: absolute; bottom: 5px; right: 30px;">{{ characterCount }}</span>
    </div>
    <div class="row">
        <div class="form-floating col">
            <select class="form-control form-select border-0 border-bottom rounded-0" id="language" (change)="onLanguageChange($event)">
              <option value="" disabled selected>Dİl Seçiniz</option>
              <option *ngFor="let language of uniqueLanguages" [value]="language">{{ language }}</option>
            </select>
            <label for="language">Dil</label>
        </div>
        <div class="form-floating col">
            <select class="form-control form-select border-0 border-bottom rounded-0" id="voicerName">
                <option *ngFor="let voice of filteredVoices" [value]="voice.name">{{ voice.name.split('-').slice(2).join('-') + ' ' + (voice.ssmlGender === 1 ? 'Erkek':'Kadın' ) }}</option>
            </select> 
            <label for="voicerName">Konuşmacı</label>
        </div>
    </div>
    <div class="row">
        <button class="btn btn-dark btn-lg w-100 mt-3 col" (click)="listen()">Dinle</button>
        <button class="btn btn-danger btn-lg w-100 mt-3 col" (click)="stop()">Durdur</button>
    </div>
    <div class="dropdown row mt-2">
        <button class="btn btn-lg btn-success w-100 dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">Ses dosyasını indir</button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
            <li><a class="dropdown-item" id="mp3indir"  (click)="downloadAudio('mp3')" >MP3 dosyası olarak indir.</a></li>
            <li><a class="dropdown-item" id="wavindir" (click)="downloadAudio('wav')" >Wave dosyası olarak indir.</a></li>
        </ul>
    </div>
    
</div>